angular.module("AngularStomp",[]).factory("ngstomp",["$rootScope","$log","$timeout",function(n,t,o){function i(n,o,i){this.stompClient=o?Stomp.over(new o(n)):Stomp.client(n),i&&(this.stompClient.debug=t.info)}var p={};return i.prototype.subscribe=function(t,o){this.stompClient.subscribe(t,function(){var t=arguments;n.$apply(function(){o(t[0])})})},i.prototype.send=function(n,t,o){this.stompClient.send(n,t,o)},i.prototype.connect=function(t,o,i,e,c){this.stompClient.connect(t,o,function(t){n.$apply(function(){i.apply(p,t)})},function(t){n.$apply(function(){e.apply(p,t)})},c)},i.prototype.disconnect=function(t){this.stompClient.disconnect(function(){var i=arguments;o(function(){n.$apply(function(){t.apply(i)})})})},function(n,t,o){return new i(n,t,o)}}]);